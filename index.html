<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Información del Visitante - Demo</title>
<style>
  body {
    background: #0b0c0a;
    color: #39ff14;
    font-family: 'Courier New', Courier, monospace;
    padding: 20px;
  }
  #visitorInfo {
    background: #121512;
    border: 1px solid #39ff14;
    padding: 15px;
    max-width: 700px;
    margin: 0 auto;
    white-space: pre-wrap;
  }
  h1, h2 {
    color: #39ff14;
  }
  small {
    color: #a0a0a0;
  }
</style>
</head>
<body>

<h1>ANONIMIZADOR</h1>
<p>¡Hola! Esto es lo que sé de ti:</p>

<pre id="visitorInfo">Cargando información...</pre>

<p><small>
  Esta información se muestra solo a modo demostrativo y <strong>no se almacena ni envía a ningún servidor</strong> (excepto la IP, que se obtiene de forma anónima vía API pública).  
  <br>No se usan cookies ni ningún tipo de rastreo.
</small></p>

<script>
async function getVisitorData() {
  const infoDiv = document.getElementById('visitorInfo');
  
  // Intentamos obtener IP pública vía API ipify (IPv4)
  let ip = 'Desconocida';
  try {
    const response = await fetch('https://api64.ipify.org?format=json');
    if (response.ok) {
      const data = await response.json();
      ip = data.ip;
    }
  } catch {}

  // Construcción del objeto info con propiedades accesibles
  const navigatorInfo = window.navigator;
  const screenInfo = window.screen;

  const data = {
    "Dirección IP": ip,
    "User Agent": navigatorInfo.userAgent,
    "Plataforma": navigatorInfo.platform,
    "Idioma": navigatorInfo.language,
    "Cookies Habilitadas": navigatorInfo.cookieEnabled,
    "Resolución de Pantalla": `${screenInfo.width}x${screenInfo.height}`,
    "Profundidad de Color": screenInfo.colorDepth,
    "Zona Horaria": Intl.DateTimeFormat().resolvedOptions().timeZone || 'No disponible',
    "Nombre del Navegador": (navigatorInfo.appName || 'Desconocido'),
    "Versión del Navegador": (navigatorInfo.appVersion || 'Desconocido'),
    "Estado de Conexión": navigator.onLine ? 'Online' : 'Offline',
    "Do Not Track": navigator.doNotTrack || 'No especificado',
    "Núcleos de CPU": navigatorInfo.hardwareConcurrency || 'No disponible',
    "Memoria del Dispositivo (GB)": navigatorInfo.deviceMemory || 'No disponible',
    "Referente": document.referrer || 'No hay referente',
    "Soporte para Touch": ('ontouchstart' in window) ? 'Sí' : 'No',
    "Java Habilitado": navigatorInfo.javaEnabled ? navigatorInfo.javaEnabled() : 'No disponible',
    "Visor de PDF Habilitado": !!navigator.pdfViewerEnabled || false,
    "Webdriver": navigator.webdriver || false,
    "Producto": navigatorInfo.product || 'No disponible',
    "Subproducto": navigatorInfo.productSub || 'No disponible',
    "Proveedor": navigatorInfo.vendor || 'No disponible',
    "Subproveedor": navigatorInfo.vendorSub || 'No disponible',
    "Puntos Máximos de Touch": (navigator.maxTouchPoints !== undefined) ? navigator.maxTouchPoints : 'No disponible',
    "Fecha y Hora Actual": new Date().toLocaleString()
  };

  // Formatear para mostrar
  let output = '';
  for (const [key, value] of Object.entries(data)) {
    output += `${key}: ${value}\n`;
  }

  infoDiv.textContent = output;
}

getVisitorData();
</script>

</body>
</html>
